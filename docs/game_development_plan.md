# Plan de Desarrollo: Paco's Tapas Runner

Este plan detalla los pasos para convertir el prototipo actual en un juego digno de ganar una Game Jam.

## Fase 1: Infraestructura Core âœ…
*   **Registro del juego:** `palillo_cunhao` registrado en BotFather. âœ…
*   **Bot Handler:** Comando `/jugar` y gestiÃ³n de callbacks. âœ…
*   **Backend:** API de puntuaciÃ³n con validaciÃ³n SHA-256 e integraciÃ³n con Datastore. âœ…
*   **Web Integration:** Acceso desde `/game` para debug y juego libre. âœ…

## Fase 2: El "Juice" y Pulido Visual âœ…
*   **SustituciÃ³n de Assets:**
    *   Cambiar formas geomÃ©tricas por **Pixel Art 8-bit**. âœ…
    *   CorrecciÃ³n de transparencia y sombras en assets. âœ…
*   **Animaciones y Feedback:**
    *   AnimaciÃ³n de "Squash & Stretch" (inclinaciÃ³n) en el palillo. âœ…
    *   Efecto de rotaciÃ³n/balanceo en las tapas al caer. âœ…
    *   **Sistema de PartÃ­culas:** Migas, chispas y manchas verdes. âœ…
    *   **UI Feedback:** Tween de escala en el score. âœ…
    *   **Screen Flash/Vibrate:** Feedback visual y hÃ¡ptico al perder vida. âœ…
*   **Pantalla de Inicio:** Instrucciones y botÃ³n de comenzar. âœ…

## Fase 3: Audio y Narrativa de Bar ðŸš§
*   **Voces DinÃ¡micas (TTS):**
    *   Saludo personalizado ("Â¿QuÃ© pasa, fiera?") al iniciar. âœ…
    *   Frase de cuÃ±ado aleatoria al perder (Game Over). âœ…
*   **MÃºsica de Fondo:**
    *   Bucle de Pasodoble estilo 8-bit/Chiptune (MP3/OGG). âœ…
*   **Efectos de Sonido (SFX):** **(Faltan Assets)**
    *   `crunch.mp3`: Al capturar croqueta/jamÃ³n.
    *   `damage.mp3`: Al chocar con aguacate/sushi.
    *   `powerup.mp3`: Al coger carajillo.
    *   `cash.mp3`: Al coger factura.

## Fase 4: MecÃ¡nicas Avanzadas (Dificultad y Variedad) ðŸŽ®
*   **Sistema de Combos:** Multiplicador de puntos si capturas 3 croquetas seguidas sin fallar.
*   **Patrones de Lluvia:** En lugar de caÃ­da aleatoria, crear "oleadas" (ej. una fila de aguacates con un solo hueco).
*   **Nuevos Elementos:**
    *   **El Cobrador:** Un ticket que cae muy rÃ¡pido; si lo coges, pierdes puntos (Â¡hay que esquivarlo!). (Implementado como Factura âœ…)
    *   **Tapa de JamÃ³n 5J:** Aparece cada 500 puntos, da 100 puntos pero cae a velocidad terminal. (Implementado como JamÃ³n âœ…)
*   **Jefe Final:** Cada 1000 puntos, la pantalla se oscurece y aparece un "Inspector de Sanidad" que lanza prohibiciones que debes esquivar durante 15 segundos.

## Fase 5: IntegraciÃ³n Social (Leaderboards) âœ…
*   **Telegram API:** Usar `setGameScore` para actualizar el ranking nativo. (Funcional âœ…)
*   **VisualizaciÃ³n Nativa:** El mensaje original mostrarÃ¡ automÃ¡ticamente el Top 3. (Funcional âœ…)
*   **PÃ¡gina de Ranking (Web/Mini App):**
    *   Crear una vista dedicada `/game/ranking` con el Top 50 global. âœ…
    *   Mostrar fotos de perfil y medallas ganadas junto a la puntuaciÃ³n. âœ…
*   **BotÃ³n "High Scores":** Configurar el bot para que el botÃ³n de "Puntuaciones" del mensaje del juego abra la Mini App en la secciÃ³n de ranking. (Se usa el nativo en chat y custom en web âœ…)
*   **Ranking Post-Partida:** AÃ±adir un botÃ³n en la pantalla de Game Over que lleve directamente a la tabla de clasificaciÃ³n. âœ…

## Fase 6: Lanzamiento y Marketing ðŸš€
*   **Trailer:** PequeÃ±o video del gameplay.
*   **Tournament:** Organizar el "I Torneo de Pincho de Oro" con premios en CuÃ±ao Points o Regalos Reales.

## ApÃ©ndice: Assets Faltantes (Audio)

Para completar la experiencia auditiva, necesitamos los siguientes archivos de audio en `src/static/game/audio/` (o subidos al bucket):

| Archivo | DescripciÃ³n | DuraciÃ³n |
| :--- | :--- | :--- |
| **sfx_crunch.mp3** | Sonido crujiente al comer croqueta. | < 0.5s |
| **sfx_bad.mp3** | Sonido de error/golpe al perder vida. | < 0.5s |
| **sfx_powerup.mp3** | Sonido mÃ¡gico/celestial al coger carajillo. | < 1s |
| **sfx_cash.mp3** | Sonido de caja registradora o monedas al coger factura. | < 0.5s |
